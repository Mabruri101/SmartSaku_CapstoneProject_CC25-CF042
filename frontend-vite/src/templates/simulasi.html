<!-- Simulasi Page Template -->
<div id="app">
  <!-- Sidebar -->
  <aside class="w-64 bg-white shadow-lg h-screen fixed left-0 top-0 z-50">
    <!-- Logo -->
    <div class="px-6 py-5 border-b border-gray-200">
      <a href="/" class="flex items-center">
        <img
          src="/src/images/Logo.png"
          alt="SmartSaku Logo"
          class="h-8 w-auto mr-2"
        />
        <span class="text-xl font-bold text-gray-800"> SmartSaku </span>
      </a>
    </div>

    <!-- User Profile -->
    <div class="px-6 py-5 border-b border-gray-200">
      <div class="flex items-center space-x-3">
        <div class="p-1 rounded-full border-2 border-gray-200">
          <img
            src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop&crop=face"
            alt="Profile"
            class="w-8 h-8 rounded-full"
          />
        </div>
        <div>
          <p class="font-medium text-gray-800">Andhika Fajar</p>
        </div>
      </div>
    </div>

    <!-- Navigation Menu -->
    <nav class="px-4 py-4">
      <ul class="space-y-4">
        <li>
          <a
            href="/dashboard.html"
            class="flex items-center space-x-3 p-3 rounded-md hover:bg-gray-100 text-gray-700 font-medium"
          >
            <div class="bg-white p-1.5 rounded shadow-sm">
              <i class="fas fa-chart-line text-gray-600"></i>
            </div>
            <span>Dashboard</span>
          </a>
        </li>
        <li>
          <a
            href="/report.html"
            class="w-full flex items-center space-x-3 p-3 rounded-md hover:bg-gray-100 text-gray-700 font-medium"
          >
            <div class="bg-white p-1.5 rounded shadow-sm">
              <i class="fas fa-plug text-gray-600"></i>
            </div>
            <span>Report</span>
          </a>
        </li>
        <li>
          <a
            href="/notifikasi.html"
            class="w-full flex items-center space-x-3 p-3 rounded-md hover:bg-gray-100 text-gray-700 font-medium"
          >
            <div class="bg-white p-1.5 rounded shadow-sm">
              <i class="fas fa-bell text-gray-600"></i>
            </div>
            <span>Notifikasi</span>
            <span
              class="ml-auto bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center"
              >3</span
            >
          </a>
        </li>
        <li>
          <a
            href="/simulasi.html"
            class="w-full flex items-center space-x-3 p-3 rounded-md bg-indigo-100 text-indigo-600 font-medium"
          >
            <div class="bg-white p-1.5 rounded shadow-sm">
              <i class="fas fa-gift text-indigo-600"></i>
            </div>
            <span>Simulasi</span>
          </a>
        </li>
        <li>
          <a
            href="/profil.html"
            class="w-full flex items-center space-x-3 p-3 rounded-md hover:bg-gray-100 text-gray-700 font-medium"
          >
            <div class="bg-white p-1.5 rounded shadow-sm">
              <i class="fas fa-chart-bar text-gray-600"></i>
            </div>
            <span>Profil</span>
          </a>
        </li>
      </ul>
    </nav>
    <!-- Logout Button -->
    <div class="absolute bottom-0 p-4 w-full border-t border-gray-200">
      <a
        href="/login.html"
        class="flex items-center space-x-3 p-3 rounded-md hover:bg-gray-100 text-gray-700 font-medium"
      >
        <div class="bg-white p-1.5 rounded shadow-sm">
          <i class="fas fa-sign-out-alt text-gray-600"></i>
        </div>
        <span>Keluar</span>
      </a>
    </div>
  </aside>

  <!-- Main Content -->
  <div class="ml-64 flex-1 p-8">
    <!-- Simulasi Header -->
    <div class="mb-8">
      <h1 class="text-3xl font-bold text-gray-900 mb-2">Simulasi Keuangan</h1>
      <div class="flex items-center justify-between">
        <p class="text-gray-600">Rencanakan masa depan keuangan Anda</p>
        <div class="flex space-x-2">
          <button
            class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 text-sm"
          >
            <i class="fas fa-save mr-2"></i> Simpan Simulasi
          </button>
          <button
            class="bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 text-sm"
          >
            <i class="fas fa-share-alt mr-2"></i> Bagikan
          </button>
        </div>
      </div>
    </div>

    <!-- Simulasi Tabs -->
    <div class="mb-8">
      <div class="border-b border-gray-200">
        <nav class="-mb-px flex space-x-8">
          <button
            class="border-b-2 border-primary py-4 px-1 text-sm font-medium text-primary"
          >
            Tabungan
          </button>
          <button
            class="border-b-2 border-transparent py-4 px-1 text-sm font-medium text-gray-500 hover:text-gray-700 hover:border-gray-300"
          >
            Cicilan
          </button>
          <button
            class="border-b-2 border-transparent py-4 px-1 text-sm font-medium text-gray-500 hover:text-gray-700 hover:border-gray-300"
          >
            Investasi
          </button>
          <button
            class="border-b-2 border-transparent py-4 px-1 text-sm font-medium text-gray-500 hover:text-gray-700 hover:border-gray-300"
          >
            Dana Darurat
          </button>
        </nav>
      </div>
    </div>

    <!-- Simulasi Content -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
      <!-- Left Column - Inputs -->
      <div>
        <div class="bg-white rounded-2xl p-6 shadow-lg border border-gray-100">
          <h2 class="text-xl font-bold text-gray-900 mb-6">
            Parameter Tabungan
          </h2>
          <div class="space-y-4">
            <div>
              <label
                for="target-amount"
                class="block text-sm font-medium text-gray-700 mb-1"
                >Target Tabungan</label
              >
              <div class="relative rounded-md">
                <div
                  class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                >
                  <span class="text-gray-500 sm:text-sm">Rp</span>
                </div>
                <input
                  type="text"
                  id="target-amount"
                  class="block w-full pl-12 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary"
                  placeholder="0"
                  value="15000000"
                />
              </div>
            </div>

            <div>
              <label
                for="monthly-save"
                class="block text-sm font-medium text-gray-700 mb-1"
                >Jumlah Menabung per Bulan</label
              >
              <div class="relative rounded-md">
                <div
                  class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                >
                  <span class="text-gray-500 sm:text-sm">Rp</span>
                </div>
                <input
                  type="text"
                  id="monthly-save"
                  class="block w-full pl-12 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary"
                  placeholder="0"
                  value="500000"
                />
              </div>
            </div>

            <div>
              <label
                for="initial-amount"
                class="block text-sm font-medium text-gray-700 mb-1"
                >Tabungan Awal</label
              >
              <div class="relative rounded-md">
                <div
                  class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                >
                  <span class="text-gray-500 sm:text-sm">Rp</span>
                </div>
                <input
                  type="text"
                  id="initial-amount"
                  class="block w-full pl-12 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary"
                  placeholder="0"
                  value="3000000"
                />
              </div>
            </div>

            <div>
              <label
                for="interest-rate"
                class="block text-sm font-medium text-gray-700 mb-1"
                >Suku Bunga Tahunan (%)</label
              >
              <div class="relative rounded-md">
                <input
                  type="text"
                  id="interest-rate"
                  class="block w-full pl-3 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary"
                  placeholder="0"
                  value="3.5"
                />
                <div
                  class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"
                >
                  <span class="text-gray-500 sm:text-sm">%</span>
                </div>
              </div>
            </div>

            <div class="pt-4">
              <button
                id="calculate-btn"
                class="w-full bg-primary text-white py-3 rounded-lg hover:bg-primary/90 transition-colors"
              >
                Hitung
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Middle Column - Results -->
      <div>
        <div class="bg-white rounded-2xl p-6 shadow-lg border border-gray-100">
          <h2 class="text-xl font-bold text-gray-900 mb-6">Hasil Simulasi</h2>
          <div class="space-y-6">
            <div class="text-center">
              <p class="text-gray-600 mb-1">Target Tercapai Dalam</p>
              <p class="text-4xl font-bold text-primary">2 Tahun 1 Bulan</p>
            </div>

            <div class="bg-gray-50 p-4 rounded-xl">
              <div class="flex justify-between items-center mb-1">
                <span class="text-sm text-gray-600">Progress</span>
                <span class="text-sm font-semibold text-primary">20%</span>
              </div>
              <div class="w-full bg-gray-200 rounded-full h-3">
                <div
                  class="bg-gradient-to-r from-primary to-secondary h-3 rounded-full"
                  style="width: 20%"
                ></div>
              </div>
              <div class="flex justify-between text-xs text-gray-500 mt-1">
                <span>Rp 3.000.000</span>
                <span>Rp 15.000.000</span>
              </div>
            </div>

            <div class="grid grid-cols-2 gap-4">
              <div class="bg-gray-50 p-4 rounded-xl">
                <p class="text-sm text-gray-600">Total Menabung</p>
                <p class="text-xl font-bold text-gray-900">Rp 12.500.000</p>
              </div>
              <div class="bg-gray-50 p-4 rounded-xl">
                <p class="text-sm text-gray-600">Bunga Diperoleh</p>
                <p class="text-xl font-bold text-green-600">Rp 720.500</p>
              </div>
            </div>

            <div class="border-t border-gray-200 pt-4">
              <div class="flex justify-between mb-2">
                <span class="text-sm font-medium text-gray-600"
                  >Tanggal Target Tercapai:</span
                >
                <span class="font-semibold">Juli 2025</span>
              </div>
              <div class="flex justify-between">
                <span class="text-sm font-medium text-gray-600"
                  >Total di Akhir:</span
                >
                <span class="font-semibold text-primary">Rp 15.220.500</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Right Column - Chart -->
      <div>
        <div class="bg-white rounded-2xl p-6 shadow-lg border border-gray-100">
          <h2 class="text-xl font-bold text-gray-900 mb-6">
            Proyeksi Tabungan
          </h2>
          <div class="relative h-80 mb-4">
            <canvas id="savingsChart"></canvas>
          </div>

          <div class="flex justify-center space-x-4 text-sm">
            <div class="flex items-center">
              <span class="w-3 h-3 bg-primary rounded-full mr-2"></span>
              <span class="text-gray-600">Tabungan</span>
            </div>
            <div class="flex items-center">
              <span class="w-3 h-3 bg-green-500 rounded-full mr-2"></span>
              <span class="text-gray-600">Bunga</span>
            </div>
            <div class="flex items-center">
              <span class="w-3 h-3 bg-gray-300 rounded-full mr-2"></span>
              <span class="text-gray-600">Target</span>
            </div>
          </div>
        </div>

        <div
          class="mt-6 bg-white rounded-2xl p-6 shadow-lg border border-gray-100"
        >
          <h2 class="text-lg font-bold text-gray-900 mb-4">Tips Menabung</h2>
          <ul class="space-y-3 text-sm text-gray-600">
            <li class="flex items-start">
              <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
              <span>Tentukan tujuan keuangan yang jelas dan realistis</span>
            </li>
            <li class="flex items-start">
              <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
              <span>Sisihkan dana menabung di awal bulan, bukan di akhir</span>
            </li>
            <li class="flex items-start">
              <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
              <span>Gunakan aturan 50-30-20: Kebutuhan-Keinginan-Tabungan</span>
            </li>
            <li class="flex items-start">
              <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
              <span
                >Manfaatkan fitur auto-debit untuk konsistensi menabung</span
              >
            </li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Recommended Products -->
    <div
      class="mt-8 bg-gradient-to-r from-primary/5 to-secondary/5 rounded-2xl p-6 border border-primary/20"
    >
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-xl font-bold text-gray-900">
          Produk Tabungan Rekomendasi
        </h2>
        <a href="#" class="text-primary hover:text-secondary text-sm"
          >Lihat Semua</a
        >
      </div>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div
          class="bg-white rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow"
        >
          <div class="flex items-center space-x-3 mb-3">
            <div class="bg-blue-100 p-2 rounded-lg">
              <i class="fas fa-university text-blue-600"></i>
            </div>
            <h3 class="font-semibold text-gray-900">Bank BCA - Tahapan</h3>
          </div>
          <div class="space-y-2 text-sm">
            <div class="flex justify-between">
              <span class="text-gray-600">Bunga Tahunan:</span>
              <span class="font-medium">2.5%</span>
            </div>
            <div class="flex justify-between">
              <span class="text-gray-600">Setoran Minimum:</span>
              <span class="font-medium">Rp 100.000</span>
            </div>
            <div class="flex justify-between">
              <span class="text-gray-600">Biaya Admin:</span>
              <span class="font-medium">Rp 15.000</span>
            </div>
          </div>
          <div class="mt-4">
            <button
              class="w-full bg-primary/10 text-primary py-2 rounded-lg hover:bg-primary/20 transition-colors"
            >
              Bandingkan
            </button>
          </div>
        </div>

        <div
          class="bg-white rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow"
        >
          <div class="flex items-center space-x-3 mb-3">
            <div class="bg-green-100 p-2 rounded-lg">
              <i class="fas fa-university text-green-600"></i>
            </div>
            <h3 class="font-semibold text-gray-900">Bank BRI - BritAma</h3>
          </div>
          <div class="space-y-2 text-sm">
            <div class="flex justify-between">
              <span class="text-gray-600">Bunga Tahunan:</span>
              <span class="font-medium">3.0%</span>
            </div>
            <div class="flex justify-between">
              <span class="text-gray-600">Setoran Minimum:</span>
              <span class="font-medium">Rp 50.000</span>
            </div>
            <div class="flex justify-between">
              <span class="text-gray-600">Biaya Admin:</span>
              <span class="font-medium">Rp 12.000</span>
            </div>
          </div>
          <div class="mt-4">
            <button
              class="w-full bg-primary/10 text-primary py-2 rounded-lg hover:bg-primary/20 transition-colors"
            >
              Bandingkan
            </button>
          </div>
        </div>

        <div
          class="bg-white rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow"
        >
          <div class="flex items-center space-x-3 mb-3">
            <div class="bg-yellow-100 p-2 rounded-lg">
              <i class="fas fa-university text-yellow-600"></i>
            </div>
            <h3 class="font-semibold text-gray-900">Bank Jago - Pocket</h3>
          </div>
          <div class="space-y-2 text-sm">
            <div class="flex justify-between">
              <span class="text-gray-600">Bunga Tahunan:</span>
              <span class="font-medium">3.5%</span>
            </div>
            <div class="flex justify-between">
              <span class="text-gray-600">Setoran Minimum:</span>
              <span class="font-medium">Rp 10.000</span>
            </div>
            <div class="flex justify-between">
              <span class="text-gray-600">Biaya Admin:</span>
              <span class="text-green-600 font-medium">Gratis</span>
            </div>
          </div>
          <div class="mt-4">
            <button
              class="w-full bg-primary/10 text-primary py-2 rounded-lg hover:bg-primary/20 transition-colors"
            >
              Bandingkan
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script type="module">
      import { initSidebar } from "../js/sidebar.js";

      // Initialize sidebar when DOM is ready
      document.addEventListener("DOMContentLoaded", function () {
        console.log("Simulasi page: DOM loaded, initializing sidebar...");
        initSidebar();

        // Initialize simulation chart
        initSimulationChart();

        // Add calculator functionality
        initCalculator();
      });

      function initSimulationChart() {
        const ctx = document.getElementById("savingsChart").getContext("2d");
        new Chart(ctx, {
          type: "line",
          data: {
            labels: ["Start", "6 Bln", "12 Bln", "18 Bln", "24 Bln", "25 Bln"],
            datasets: [
              {
                label: "Tabungan",
                data: [3000000, 6000000, 9000000, 12000000, 15000000, 15720500],
                borderColor: "#6366F1",
                backgroundColor: "rgba(99, 102, 241, 0.1)",
                fill: true,
                tension: 0.4,
              },
              {
                label: "Target",
                data: [
                  15000000, 15000000, 15000000, 15000000, 15000000, 15000000,
                ],
                borderColor: "#9CA3AF",
                borderDash: [5, 5],
                fill: false,
                pointRadius: 0,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
              y: {
                beginAtZero: true,
                ticks: {
                  callback: function (value) {
                    return (
                      "Rp " +
                      value.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".")
                    );
                  },
                },
              },
            },
            plugins: {
              tooltip: {
                callbacks: {
                  label: function (context) {
                    let label = context.dataset.label || "";
                    if (label) {
                      label += ": ";
                    }
                    if (context.parsed.y !== null) {
                      label +=
                        "Rp " +
                        context.parsed.y
                          .toString()
                          .replace(/\B(?=(\d{3})+(?!\d))/g, ".");
                    }
                    return label;
                  },
                },
              },
            },
          },
        });
      }

      function initCalculator() {
        const calculateBtn = document.getElementById("calculate-btn");
        calculateBtn.addEventListener("click", function () {
          // In a real implementation, this would calculate and update the simulation
          // For now, just show a simple alert
          alert(
            "Kalkulasi berhasil! (Dalam implementasi sesungguhnya, ini akan memperbarui hasil simulasi)"
          );
        });
      }
    </script>
  </div>
</div>
